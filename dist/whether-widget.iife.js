var WeatherWidget=(function(l){"use strict";const Zt="data:image/svg+xml,%3c!--%20icon666.com%20-%20MILLIONS%20OF%20FREE%20VECTOR%20ICONS%20--%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20478.703%20478.703'%20style='enable-background:new%200%200%20478.703%20478.703;'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cpath%20d='M454.2,189.101l-33.6-5.7c-3.5-11.3-8-22.2-13.5-32.6l19.8-27.7c8.4-11.8,7.1-27.9-3.2-38.1l-29.8-29.8%20c-5.6-5.6-13-8.7-20.9-8.7c-6.2,0-12.1,1.9-17.1,5.5l-27.8,19.8c-10.8-5.7-22.1-10.4-33.8-13.9l-5.6-33.2%20c-2.4-14.3-14.7-24.7-29.2-24.7h-42.1c-14.5,0-26.8,10.4-29.2,24.7l-5.8,34c-11.2,3.5-22.1,8.1-32.5,13.7l-27.5-19.8%20c-5-3.6-11-5.5-17.2-5.5c-7.9,0-15.4,3.1-20.9,8.7l-29.9,29.8c-10.2,10.2-11.6,26.3-3.2,38.1l20,28.1%20c-5.5,10.5-9.9,21.4-13.3,32.7l-33.2,5.6c-14.3,2.4-24.7,14.7-24.7,29.2v42.1c0,14.5,10.4,26.8,24.7,29.2l34,5.8%20c3.5,11.2,8.1,22.1,13.7,32.5l-19.7,27.4c-8.4,11.8-7.1,27.9,3.2,38.1l29.8,29.8c5.6,5.6,13,8.7,20.9,8.7c6.2,0,12.1-1.9,17.1-5.5%20l28.1-20c10.1,5.3,20.7,9.6,31.6,13l5.6,33.6c2.4,14.3,14.7,24.7,29.2,24.7h42.2c14.5,0,26.8-10.4,29.2-24.7l5.7-33.6%20c11.3-3.5,22.2-8,32.6-13.5l27.7,19.8c5,3.6,11,5.5,17.2,5.5l0,0c7.9,0,15.3-3.1,20.9-8.7l29.8-29.8c10.2-10.2,11.6-26.3,3.2-38.1%20l-19.8-27.8c5.5-10.5,10.1-21.4,13.5-32.6l33.6-5.6c14.3-2.4,24.7-14.7,24.7-29.2v-42.1%20C478.9,203.801,468.5,191.501,454.2,189.101z%20M451.9,260.401c0,1.3-0.9,2.4-2.2,2.6l-42,7c-5.3,0.9-9.5,4.8-10.8,9.9%20c-3.8,14.7-9.6,28.8-17.4,41.9c-2.7,4.6-2.5,10.3,0.6,14.7l24.7,34.8c0.7,1,0.6,2.5-0.3,3.4l-29.8,29.8c-0.7,0.7-1.4,0.8-1.9,0.8%20c-0.6,0-1.1-0.2-1.5-0.5l-34.7-24.7c-4.3-3.1-10.1-3.3-14.7-0.6c-13.1,7.8-27.2,13.6-41.9,17.4c-5.2,1.3-9.1,5.6-9.9,10.8l-7.1,42%20c-0.2,1.3-1.3,2.2-2.6,2.2h-42.1c-1.3,0-2.4-0.9-2.6-2.2l-7-42c-0.9-5.3-4.8-9.5-9.9-10.8c-14.3-3.7-28.1-9.4-41-16.8%20c-2.1-1.2-4.5-1.8-6.8-1.8c-2.7,0-5.5,0.8-7.8,2.5l-35,24.9c-0.5,0.3-1,0.5-1.5,0.5c-0.4,0-1.2-0.1-1.9-0.8l-29.8-29.8%20c-0.9-0.9-1-2.3-0.3-3.4l24.6-34.5c3.1-4.4,3.3-10.2,0.6-14.8c-7.8-13-13.8-27.1-17.6-41.8c-1.4-5.1-5.6-9-10.8-9.9l-42.3-7.2%20c-1.3-0.2-2.2-1.3-2.2-2.6v-42.1c0-1.3,0.9-2.4,2.2-2.6l41.7-7c5.3-0.9,9.6-4.8,10.9-10c3.7-14.7,9.4-28.9,17.1-42%20c2.7-4.6,2.4-10.3-0.7-14.6l-24.9-35c-0.7-1-0.6-2.5,0.3-3.4l29.8-29.8c0.7-0.7,1.4-0.8,1.9-0.8c0.6,0,1.1,0.2,1.5,0.5l34.5,24.6%20c4.4,3.1,10.2,3.3,14.8,0.6c13-7.8,27.1-13.8,41.8-17.6c5.1-1.4,9-5.6,9.9-10.8l7.2-42.3c0.2-1.3,1.3-2.2,2.6-2.2h42.1%20c1.3,0,2.4,0.9,2.6,2.2l7,41.7c0.9,5.3,4.8,9.6,10,10.9c15.1,3.8,29.5,9.7,42.9,17.6c4.6,2.7,10.3,2.5,14.7-0.6l34.5-24.8%20c0.5-0.3,1-0.5,1.5-0.5c0.4,0,1.2,0.1,1.9,0.8l29.8,29.8c0.9,0.9,1,2.3,0.3,3.4l-24.7,34.7c-3.1,4.3-3.3,10.1-0.6,14.7%20c7.8,13.1,13.6,27.2,17.4,41.9c1.3,5.2,5.6,9.1,10.8,9.9l42,7.1c1.3,0.2,2.2,1.3,2.2,2.6v42.1H451.9z'%3e%3c/path%3e%3cpath%20d='M239.4,136.001c-57,0-103.3,46.3-103.3,103.3s46.3,103.3,103.3,103.3s103.3-46.3,103.3-103.3S296.4,136.001,239.4,136.001%20z%20M239.4,315.601c-42.1,0-76.3-34.2-76.3-76.3s34.2-76.3,76.3-76.3s76.3,34.2,76.3,76.3S281.5,315.601,239.4,315.601z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/svg%3e",qt="data:image/svg+xml,%3c!--%20icon666.com%20-%20MILLIONS%20OF%20FREE%20VECTOR%20ICONS%20--%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2051.636%2051.636'%20style='enable-background:new%200%200%2051.636%2051.636;'%20xml:space='preserve'%3e%3cpath%20d='M51.353,0.914c-0.295-0.305-0.75-0.39-1.135-0.213L0.583,23.481c-0.399,0.184-0.632,0.605-0.574,1.041%20s0.393,0.782,0.826,0.854l22.263,3.731l2.545,21.038c0.054,0.438,0.389,0.791,0.824,0.865c0.057,0.01,0.113,0.015,0.169,0.015%20c0.375,0,0.726-0.211,0.896-0.556l24-48.415C51.72,1.675,51.648,1.218,51.353,0.914z'%3e%3c/path%3e%3c/svg%3e",Jt="data:image/svg+xml,%3c!--%20icon666.com%20-%20MILLIONS%20OF%20FREE%20VECTOR%20ICONS%20--%3e%3csvg%20id='Capa_1'%20enable-background='new%200%200%20512%20512'%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%3e%3cg%20id='Page-1_24_'%3e%3cg%20id='_x30_25---Dial'%3e%3cpath%20id='Shape_181_'%20d='m256%200c-141.385%200-256%20114.615-256%20256s114.615%20256%20256%20256%20256-114.615%20256-256c-.16-141.319-114.681-255.84-256-256zm0%20494.933c-131.959%200-238.933-106.974-238.933-238.933s106.974-238.933%20238.933-238.933%20238.933%20106.974%20238.933%20238.933c-.15%20131.897-107.036%20238.783-238.933%20238.933z'%3e%3c/path%3e%3cpath%20id='Shape_180_'%20d='m256%2034.133c-103.212.02-192.779%2071.21-216.091%20171.755s25.789%20203.886%20118.461%20249.323c4.242%202.078%209.365.325%2011.443-3.917s.325-9.365-3.917-11.443c-1.621-.794-3.149-1.707-4.745-2.56l12.638-21.888c1.549-2.642%201.563-5.911.038-8.566s-4.356-4.29-7.418-4.283-5.886%201.654-7.399%204.316l-12.638%2021.888c-25.538-16.075-47.197-37.608-63.42-63.053l22.118-12.8c2.662-1.513%204.309-4.337%204.316-7.399s-1.628-5.893-4.283-7.418-5.924-1.511-8.566.038l-22.127%2012.8c-13.924-26.751-21.749-56.256-22.912-86.391h25.302c4.713%200%208.533-3.821%208.533-8.533%200-4.713-3.82-8.533-8.533-8.533h-25.387c1.222-30.146%209.139-59.642%2023.177-86.349l21.948%2012.672c2.642%201.549%205.911%201.563%208.566.038s4.29-4.356%204.283-7.418-1.654-5.886-4.316-7.399l-21.914-12.655c16.196-25.43%2037.768-47.001%2063.198-63.198l12.655%2021.914c1.513%202.662%204.337%204.309%207.399%204.316s5.893-1.628%207.418-4.283%201.511-5.924-.038-8.566l-12.671-21.951c26.707-14.036%2056.203-21.953%2086.349-23.177v25.387c0%204.713%203.821%208.533%208.533%208.533%204.713%200%208.533-3.82%208.533-8.533v-25.387c30.146%201.224%2059.642%209.14%2086.349%2023.177l-12.672%2021.948c-1.549%202.642-1.563%205.911-.038%208.566s4.356%204.29%207.418%204.283%205.886-1.654%207.399-4.316l12.655-21.914c25.43%2016.196%2047.001%2037.768%2063.198%2063.198l-21.914%2012.655c-2.662%201.513-4.309%204.337-4.316%207.399s1.628%205.893%204.283%207.418%205.924%201.511%208.566-.038l21.948-12.672c14.036%2026.707%2021.953%2056.203%2023.177%2086.349h-25.386c-4.713%200-8.533%203.821-8.533%208.533%200%204.713%203.82%208.533%208.533%208.533h25.301c-1.154%2030.156-8.979%2059.682-22.912%2086.451l-22.127-12.8c-2.642-1.549-5.911-1.563-8.566-.038s-4.29%204.356-4.283%207.418%201.654%205.886%204.316%207.399l22.118%2012.8c-16.223%2025.444-37.882%2046.978-63.42%2063.053l-12.638-21.888c-1.514-2.662-4.337-4.309-7.399-4.316s-5.893%201.628-7.418%204.283-1.511%205.924.038%208.566l12.638%2021.888c-1.596.853-3.123%201.707-4.745%202.56-4.242%202.078-5.995%207.202-3.917%2011.443%202.078%204.242%207.202%205.995%2011.443%203.917%2092.743-45.402%20141.904-148.783%20118.584-249.376-23.319-100.59-112.953-171.796-216.213-171.759z'%3e%3c/path%3e%3cpath%20id='Shape_179_'%20d='m383.932%20340.949c2.646-3.984%203.535-8.882%202.458-13.542-1.047-4.575-3.959-8.503-8.03-10.837l-14.839-8.61c-7.706-4.504-17.584-2.265-22.596%205.12-18.967%2028.33-50.814%2045.334-84.907%2045.334s-65.94-17.004-84.907-45.334c-5.015-7.382-14.889-9.619-22.596-5.12l-14.874%208.627c-4.071%202.334-6.982%206.263-8.03%2010.837-1.077%204.66-.188%209.558%202.458%2013.542%2028.444%2042.878%2076.477%2068.654%20127.931%2068.654s99.487-25.776%20127.932-68.654zm-127.932%2051.584c-45.81.036-88.57-22.957-113.801-61.193l14.711-8.789c22.102%2033.053%2059.228%2052.912%2098.99%2052.948s76.924-19.755%2099.086-52.768l14.857%208.61-.085.171c-25.262%2038.157-67.996%2061.08-113.758%2061.021z'%3e%3c/path%3e%3cpath%20id='Shape_178_'%20d='m256%20230.4c-7.076.012-13.828%202.967-18.637%208.158l-87.441-38.17c-2.797-1.239-6.044-.885-8.509.927s-3.771%204.805-3.424%207.845c.348%203.04%202.296%205.661%205.106%206.87l87.484%2038.187c-.043.597-.179%201.169-.179%201.783-.026%2010.509%206.39%2019.962%2016.166%2023.816s20.917%201.325%2028.07-6.374l17.067%207.45c4.322%201.885%209.353-.09%2011.238-4.412s-.09-9.353-4.412-11.238l-17.067-7.458c.043-.597.179-1.169.179-1.783%200-6.797-2.703-13.315-7.513-18.117-4.809-4.803-11.331-7.495-18.128-7.484zm0%2034.133c-4.713%200-8.533-3.821-8.533-8.533%200-4.713%203.821-8.533%208.533-8.533%204.713%200%208.533%203.821%208.533%208.533%200%204.713-3.82%208.533-8.533%208.533z'%3e%3c/path%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";class Je extends Error{statusCode;constructor(e){super(),this.name="HttpError",this.statusCode=e,this.message=`Произошла ошибка при попытке выполнения запроса. Запрос вернулся со статусом ${this.statusCode}.`}}const Kt=(t,e)=>{let o;return(...n)=>{o&&clearTimeout(o),o=setTimeout(()=>t(...n),e)}},Qt=t=>{const e=["N","NE","E","SE","S","SW","W","NW"],o=Math.round(t/45)%8;return!t||!e[o]?e[0]:e[o]},en=t=>{const e=[{max:.2,description:"Calm"},{max:1.5,description:"Light Air"},{max:3.3,description:"Light Breeze"},{max:5.4,description:"Gentle Breeze"},{max:7.9,description:"Moderate Breeze"},{max:10.7,description:"Fresh Breeze"},{max:13.8,description:"Strong Breeze"},{max:17.1,description:"Near Gale"},{max:20.7,description:"Gale"},{max:24.4,description:"Severe Gale"},{max:28.4,description:"Strong Storm"},{max:32.6,description:"Violent Storm"},{max:1/0,description:"Hurricane"}];for(const o of e)if(t<=o.max)return o.description;return""},tn={key:0,class:"location-card"},nn={class:"location-card__location"},on={class:"location-card__city"},rn={class:"location-card__country-code"},an={class:"location-card__main-info"},ln={class:"location-card__icon"},sn=["src"],cn={class:"location-card__temp"},dn={class:"location-card__other"},un={class:"location-card__description"},fn={class:"location-card__wind"},hn={class:"location-card__wind-speed"},pn={class:"location-card__wind-direction"},gn={class:"location-card__pressure"},mn={class:"location-card__pressure-value"},vn={class:"location-card__humidity"},wn={class:"location-card__humidity-value"},_n={class:"location-card__visibility"},yn={class:"location-card__visibility-value"},bn=l.defineComponent({__name:"LocationCard",props:{cityWeather:{type:Object}},setup(t){const e=l.computed(()=>!t.cityWeather||!t.cityWeather.weather.length?"":t.cityWeather.weather.reduce((i,r)=>i+=String(r.description).charAt(0).toUpperCase()+String(r.description).slice(1)+". ","")),o=l.computed(()=>!t.cityWeather||!t.cityWeather.weather.length?"":` https://openweathermap.org/img/wn/${t.cityWeather.weather[0].icon}@2x.png`),n=l.computed(()=>!t.cityWeather||!t.cityWeather.wind.deg?"-45deg":-45+t.cityWeather.wind.deg+"deg");return(i,r)=>t.cityWeather?(l.openBlock(),l.createElementBlock("article",tn,[l.createElementVNode("p",nn,[l.createElementVNode("span",on,l.toDisplayString(t.cityWeather.name),1),r[0]||(r[0]=l.createTextVNode(", ",-1)),l.createElementVNode("span",rn,l.toDisplayString(t.cityWeather.sys.country),1)]),l.createElementVNode("div",an,[l.createElementVNode("div",ln,[l.createElementVNode("img",{width:"144",height:"144",src:o.value,alt:""},null,8,sn)]),l.createElementVNode("div",cn,l.toDisplayString(Math.round(t.cityWeather.main.temp))+"°C",1)]),l.createElementVNode("div",dn,[l.createElementVNode("p",un," Feels like "+l.toDisplayString(t.cityWeather.main.feels_like)+"°C. "+l.toDisplayString(e.value)+" "+l.toDisplayString(l.unref(en)(t.cityWeather.wind.speed)),1),l.createElementVNode("p",fn,[l.createElementVNode("img",{class:"location-card__wind-icon",style:l.normalizeStyle(`transform: rotate(${n.value}); transform-origin: 50% 50%`),width:"14",height:"14",src:qt,alt:""},null,4),l.createElementVNode("span",hn,l.toDisplayString(t.cityWeather.wind.speed)+"m/s ",1),l.createElementVNode("span",pn,l.toDisplayString(l.unref(Qt)(t.cityWeather.wind.deg)),1)]),l.createElementVNode("p",gn,[r[1]||(r[1]=l.createElementVNode("img",{class:"location-card__pressure-icon",width:"14",height:"14",src:Jt,alt:""},null,-1)),l.createElementVNode("span",mn,l.toDisplayString(t.cityWeather.main.pressure)+"hPa",1)]),l.createElementVNode("p",vn,[r[2]||(r[2]=l.createElementVNode("span",{class:"location-card__humidity-icon"},"Humidity: ",-1)),l.createElementVNode("span",wn,l.toDisplayString(t.cityWeather.main.humidity)+"%",1)]),r[4]||(r[4]=l.createElementVNode("p",{class:"location-card__dew-point"},[l.createElementVNode("span",{class:"location-card__dew-point-icon"},"Dew-point: "),l.createElementVNode("span",{class:"location-card__dew-point-value"},"0°C")],-1)),l.createElementVNode("p",_n,[r[3]||(r[3]=l.createElementVNode("span",{class:"location-card__visibility-icon"},"Visibility ",-1)),l.createElementVNode("span",yn,l.toDisplayString(t.cityWeather.visibility)+"km",1)])])])):l.createCommentVNode("",!0)}}),En=".location-card *{padding:0;margin:0}.location-card__location{font-weight:600}.location-card__main-info{display:flex;align-items:center;flex-wrap:wrap}.location-card__temp{font-size:3rem;font-weight:600}.location-card__other{display:grid;grid-template-columns:1fr 1fr;gap:15px 4px;align-items:baseline}.location-card__description{grid-column:span 2}.location-card__wind,.location-card__pressure{display:grid;grid-auto-flow:column;grid-template-columns:min-content max-content;grid-auto-columns:1fr;column-gap:4px;align-items:center}.location-card__wind>img,.location-card__pressure>img{line-height:0}",Ke=(t,e)=>{const o=t.__vccOpts||t;for(const[n,i]of e)o[n]=i;return o},Sn=Ke(bn,[["styles",[En]]]),Dn="data:image/svg+xml,%3csvg%20width='72'%20height='72'%20viewBox='0%200%2072%2072'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M41.657%2035.9995L66.828%2010.8275C68.39%209.2655%2068.39%206.7325%2066.828%205.1715C65.266%203.6095%2062.734%203.6095%2061.172%205.1715L36%2030.3425L10.829%205.1715C9.26699%203.6095%206.73399%203.6095%205.17199%205.1715C3.60999%206.7335%203.60999%209.2665%205.17199%2010.8275L30.344%2035.9995L5.17199%2061.1715C3.60999%2062.7335%203.60999%2065.2665%205.17199%2066.8275C5.95299%2067.6085%206.97699%2067.9995%207.99999%2067.9995C9.02299%2067.9995%2010.048%2067.6085%2010.829%2066.8275L36%2041.6565L61.172%2066.8275C61.953%2067.6085%2062.977%2067.9995%2064%2067.9995C65.023%2067.9995%2066.048%2067.6085%2066.828%2066.8275C68.39%2065.2655%2068.39%2062.7325%2066.828%2061.1715L41.657%2035.9995Z'%20fill='black'/%3e%3c/svg%3e",Cn="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;}%3c/style%3e%3c/defs%3e%3ctitle/%3e%3cg%20data-name='Layer%202'%20id='Layer_2'%3e%3cpath%20d='M28,10H4A1,1,0,0,1,4,8H28a1,1,0,0,1,0,2Z'/%3e%3cpath%20d='M28,17H4a1,1,0,0,1,0-2H28a1,1,0,0,1,0,2Z'/%3e%3cpath%20d='M28,24H4a1,1,0,0,1,0-2H28a1,1,0,0,1,0,2Z'/%3e%3c/g%3e%3cg%20id='frame'%3e%3crect%20class='cls-1'%20height='32'%20width='32'/%3e%3c/g%3e%3c/svg%3e",xn="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3csvg%20viewBox='0%200%20512%20512'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle/%3e%3cg%20data-name='1'%20id='_1'%3e%3cpath%20d='M356.65,450H171.47a41,41,0,0,1-40.9-40.9V120.66a15,15,0,0,1,15-15h237a15,15,0,0,1,15,15V409.1A41,41,0,0,1,356.65,450ZM160.57,135.66V409.1a10.91,10.91,0,0,0,10.9,10.9H356.65a10.91,10.91,0,0,0,10.91-10.9V135.66Z'/%3e%3cpath%20d='M327.06,135.66h-126a15,15,0,0,1-15-15V93.4A44.79,44.79,0,0,1,230.8,48.67h66.52A44.79,44.79,0,0,1,342.06,93.4v27.26A15,15,0,0,1,327.06,135.66Zm-111-30h96V93.4a14.75,14.75,0,0,0-14.74-14.73H230.8A14.75,14.75,0,0,0,216.07,93.4Z'/%3e%3cpath%20d='M264.06,392.58a15,15,0,0,1-15-15V178.09a15,15,0,1,1,30,0V377.58A15,15,0,0,1,264.06,392.58Z'/%3e%3cpath%20d='M209.9,392.58a15,15,0,0,1-15-15V178.09a15,15,0,0,1,30,0V377.58A15,15,0,0,1,209.9,392.58Z'/%3e%3cpath%20d='M318.23,392.58a15,15,0,0,1-15-15V178.09a15,15,0,0,1,30,0V377.58A15,15,0,0,1,318.23,392.58Z'/%3e%3cpath%20d='M405.81,135.66H122.32a15,15,0,0,1,0-30H405.81a15,15,0,0,1,0,30Z'/%3e%3c/g%3e%3c/svg%3e",Tn="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M3.76072%2012L7.09269%2015.136C7.29377%2015.3253%207.30336%2015.6417%207.1141%2015.8428C6.92484%2016.0439%206.6084%2016.0535%206.40731%2015.8642L2.15731%2011.8642C2.05692%2011.7697%202%2011.6379%202%2011.5001C2%2011.3622%202.05693%2011.2304%202.15732%2011.136L6.40732%207.13602C6.60841%206.94676%206.92485%206.95635%207.1141%207.15744C7.30336%207.35853%207.29377%207.67497%207.09268%207.86422L3.76086%2011L15%2011C16.1046%2011%2017%2010.1046%2017%209V4.5C17%204.22386%2017.2239%204%2017.5%204C17.7761%204%2018%204.22386%2018%204.5V9C18%2010.6569%2016.6569%2012%2015%2012L3.76072%2012Z'%20fill='%23212121'/%3e%3c/svg%3e";function Nn(t,e){return l.getCurrentScope()?(l.onScopeDispose(t,e),!0):!1}const vt=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const On=Object.prototype.toString,An=t=>On.call(t)==="[object Object]",ye=()=>{};function In(...t){if(t.length!==1)return l.toRef(...t);const e=t[0];return typeof e=="function"?l.readonly(l.customRef(()=>({get:e,set:ye}))):l.ref(e)}function kn(t,e){function o(...n){return new Promise((i,r)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(r)})}return o}const wt=t=>t();function Pn(t=wt,e={}){const{initialState:o="active"}=e,n=In(o==="active");function i(){n.value=!1}function r(){n.value=!0}const a=(...s)=>{n.value&&t(...s)};return{isActive:l.readonly(n),pause:i,resume:r,eventFilter:a}}function Qe(t){return Array.isArray(t)?t:[t]}function Vn(t){return l.getCurrentInstance()}function Mn(t,e,o={}){const{eventFilter:n=wt,...i}=o;return l.watch(t,kn(n,e),i)}function Fn(t,e,o={}){const{eventFilter:n,initialState:i="active",...r}=o,{eventFilter:a,pause:s,resume:c,isActive:d}=Pn(n,{initialState:i});return{stop:Mn(t,e,{...r,eventFilter:a}),pause:s,resume:c,isActive:d}}const Bn=Fn;function _t(t,e=!0,o){Vn()?l.onMounted(t,o):e?t():l.nextTick(t)}function Ln(t,e,o){return l.watch(t,e,{...o,immediate:!0})}const fe=vt?window:void 0,Wn=vt?window.document:void 0;function he(t){var e;const o=l.toValue(t);return(e=o?.$el)!==null&&e!==void 0?e:o}function be(...t){const e=(n,i,r,a)=>(n.addEventListener(i,r,a),()=>n.removeEventListener(i,r,a)),o=l.computed(()=>{const n=Qe(l.toValue(t[0])).filter(i=>i!=null);return n.every(i=>typeof i!="string")?n:void 0});return Ln(()=>{var n,i;return[(n=(i=o.value)===null||i===void 0?void 0:i.map(r=>he(r)))!==null&&n!==void 0?n:[fe].filter(r=>r!=null),Qe(l.toValue(o.value?t[1]:t[0])),Qe(l.unref(o.value?t[2]:t[1])),l.toValue(o.value?t[3]:t[2])]},([n,i,r,a],s,c)=>{if(!n?.length||!i?.length||!r?.length)return;const d=An(a)?{...a}:a,h=n.flatMap(f=>i.flatMap(b=>r.map(g=>e(f,b,g,d))));c(()=>{h.forEach(f=>f())})},{flush:"post"})}function Rn(t,e,o={}){const{window:n=fe,ignore:i=[],capture:r=!0,detectIframe:a=!1,controls:s=!1}=o;if(!n)return s?{stop:ye,cancel:ye,trigger:ye}:ye;let c=!0;const d=v=>l.toValue(i).some(S=>{if(typeof S=="string")return Array.from(n.document.querySelectorAll(S)).some(x=>x===v.target||v.composedPath().includes(x));{const x=he(S);return x&&(v.target===x||v.composedPath().includes(x))}});function h(v){const S=l.toValue(v);return S&&S.$.subTree.shapeFlag===16}function f(v,S){const x=l.toValue(v),I=x.$.subTree&&x.$.subTree.children;return I==null||!Array.isArray(I)?!1:I.some(M=>M.el===S.target||S.composedPath().includes(M.el))}const b=v=>{const S=he(t);if(v.target!=null&&!(!(S instanceof Element)&&h(t)&&f(t,v))&&!(!S||S===v.target||v.composedPath().includes(S))){if("detail"in v&&v.detail===0&&(c=!d(v)),!c){c=!0;return}e(v)}};let g=!1;const p=[be(n,"click",v=>{g||(g=!0,setTimeout(()=>{g=!1},0),b(v))},{passive:!0,capture:r}),be(n,"pointerdown",v=>{const S=he(t);c=!d(v)&&!!(S&&!v.composedPath().includes(S))},{passive:!0}),a&&be(n,"blur",v=>{setTimeout(()=>{var S;const x=he(t);((S=n.document.activeElement)===null||S===void 0?void 0:S.tagName)==="IFRAME"&&!x?.contains(n.document.activeElement)&&e(v)},0)},{passive:!0})].filter(Boolean),m=()=>p.forEach(v=>v());return s?{stop:m,cancel:()=>{c=!1},trigger:v=>{c=!0,b(v),c=!1}}:m}const Pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ve="__vueuse_ssr_handlers__",$n=zn();function zn(){return Ve in Pe||(Pe[Ve]=Pe[Ve]||{}),Pe[Ve]}function Hn(t,e){return $n[t]||e}function Yn(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}const Xn={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},yt="vueuse-storage";function Gn(t,e,o,n={}){var i;const{flush:r="pre",deep:a=!0,listenToStorageChanges:s=!0,writeDefaults:c=!0,mergeDefaults:d=!1,shallow:h,window:f=fe,eventFilter:b,onError:g=E=>{console.error(E)},initOnMounted:p}=n,m=(h?l.shallowRef:l.ref)(typeof e=="function"?e():e),v=l.computed(()=>l.toValue(t));if(!o)try{o=Hn("getDefaultStorage",()=>fe?.localStorage)()}catch(E){g(E)}if(!o)return m;const S=l.toValue(e),x=Yn(S),I=(i=n.serializer)!==null&&i!==void 0?i:Xn[x],{pause:M,resume:K}=Bn(m,E=>ue(E),{flush:r,deep:a,eventFilter:b});l.watch(v,()=>U(),{flush:r});let z=!1;const oe=E=>{p&&!z||U(E)},de=E=>{p&&!z||Z(E)};f&&s&&(o instanceof Storage?be(f,"storage",oe,{passive:!0}):be(f,yt,de)),p?_t(()=>{z=!0,U()}):U();function L(E,O){if(f){const V={key:v.value,oldValue:E,newValue:O,storageArea:o};f.dispatchEvent(o instanceof Storage?new StorageEvent("storage",V):new CustomEvent(yt,{detail:V}))}}function ue(E){try{const O=o.getItem(v.value);if(E==null)L(O,null),o.removeItem(v.value);else{const V=I.write(E);O!==V&&(o.setItem(v.value,V),L(O,V))}}catch(O){g(O)}}function Q(E){const O=E?E.newValue:o.getItem(v.value);if(O==null)return c&&S!=null&&o.setItem(v.value,I.write(S)),S;if(!E&&d){const V=I.read(O);return typeof d=="function"?d(V,S):x==="object"&&!Array.isArray(V)?{...S,...V}:V}else return typeof O!="string"?O:I.read(O)}function U(E){if(!(E&&E.storageArea!==o)){if(E&&E.key==null){m.value=S;return}if(!(E&&E.key!==v.value)){M();try{const O=I.write(m.value);(E===void 0||E?.newValue!==O)&&(m.value=Q(E))}catch(O){g(O)}finally{E?l.nextTick(K):K()}}}}function Z(E){U(E.detail)}return m}function bt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),o.push.apply(o,n)}return o}function q(t){for(var e=1;e<arguments.length;e++){var o=arguments[e]!=null?arguments[e]:{};e%2?bt(Object(o),!0).forEach(function(n){jn(t,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):bt(Object(o)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))})}return t}function Me(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(e){return typeof e}:Me=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(t)}function jn(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function ee(){return ee=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},ee.apply(this,arguments)}function Un(t,e){if(t==null)return{};var o={},n=Object.keys(t),i,r;for(r=0;r<n.length;r++)i=n[r],!(e.indexOf(i)>=0)&&(o[i]=t[i]);return o}function Zn(t,e){if(t==null)return{};var o=Un(t,e),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var qn="1.15.6";function te(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var ne=te(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ee=te(/Edge/i),Et=te(/firefox/i),Se=te(/safari/i)&&!te(/chrome/i)&&!te(/android/i),et=te(/iP(ad|od|hone)/i),St=te(/chrome/i)&&te(/android/i),Dt={capture:!1,passive:!1};function C(t,e,o){t.addEventListener(e,o,!ne&&Dt)}function D(t,e,o){t.removeEventListener(e,o,!ne&&Dt)}function Fe(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ct(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function G(t,e,o,n){if(t){o=o||document;do{if(e!=null&&(e[0]===">"?t.parentNode===o&&Fe(t,e):Fe(t,e))||n&&t===o)return t;if(t===o)break}while(t=Ct(t))}return null}var xt=/\s+/g;function H(t,e,o){if(t&&e)if(t.classList)t.classList[o?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(xt," ").replace(" "+e+" "," ");t.className=(n+(o?" "+e:"")).replace(xt," ")}}function w(t,e,o){var n=t&&t.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(o=t.currentStyle),e===void 0?o:o[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=o+(typeof o=="string"?"":"px")}}function pe(t,e){var o="";if(typeof t=="string")o=t;else do{var n=w(t,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function Tt(t,e,o){if(t){var n=t.getElementsByTagName(e),i=0,r=n.length;if(o)for(;i<r;i++)o(n[i],i);return n}return[]}function J(){var t=document.scrollingElement;return t||document.documentElement}function k(t,e,o,n,i){if(!(!t.getBoundingClientRect&&t!==window)){var r,a,s,c,d,h,f;if(t!==window&&t.parentNode&&t!==J()?(r=t.getBoundingClientRect(),a=r.top,s=r.left,c=r.bottom,d=r.right,h=r.height,f=r.width):(a=0,s=0,c=window.innerHeight,d=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||o)&&t!==window&&(i=i||t.parentNode,!ne))do if(i&&i.getBoundingClientRect&&(w(i,"transform")!=="none"||o&&w(i,"position")!=="static")){var b=i.getBoundingClientRect();a-=b.top+parseInt(w(i,"border-top-width")),s-=b.left+parseInt(w(i,"border-left-width")),c=a+r.height,d=s+r.width;break}while(i=i.parentNode);if(n&&t!==window){var g=pe(i||t),p=g&&g.a,m=g&&g.d;g&&(a/=m,s/=p,f/=p,h/=m,c=a+h,d=s+f)}return{top:a,left:s,bottom:c,right:d,width:f,height:h}}}function Nt(t,e,o){for(var n=ie(t,!0),i=k(t)[e];n;){var r=k(n)[o],a=void 0;if(a=i>=r,!a)return n;if(n===J())break;n=ie(n,!1)}return!1}function ge(t,e,o,n){for(var i=0,r=0,a=t.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==_.ghost&&(n||a[r]!==_.dragged)&&G(a[r],o.draggable,t,!1)){if(i===e)return a[r];i++}r++}return null}function tt(t,e){for(var o=t.lastElementChild;o&&(o===_.ghost||w(o,"display")==="none"||e&&!Fe(o,e));)o=o.previousElementSibling;return o||null}function X(t,e){var o=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==_.clone&&(!e||Fe(t,e))&&o++;return o}function Ot(t){var e=0,o=0,n=J();if(t)do{var i=pe(t),r=i.a,a=i.d;e+=t.scrollLeft*r,o+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,o]}function Jn(t,e){for(var o in t)if(t.hasOwnProperty(o)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[o][n])return Number(o)}return-1}function ie(t,e){if(!t||!t.getBoundingClientRect)return J();var o=t,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=w(o);if(o.clientWidth<o.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return J();if(n||e)return o;n=!0}}while(o=o.parentNode);return J()}function Kn(t,e){if(t&&e)for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);return t}function nt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var De;function At(t,e){return function(){if(!De){var o=arguments,n=this;o.length===1?t.call(n,o[0]):t.apply(n,o),De=setTimeout(function(){De=void 0},e)}}}function Qn(){clearTimeout(De),De=void 0}function It(t,e,o){t.scrollLeft+=e,t.scrollTop+=o}function kt(t){var e=window.Polymer,o=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):o?o(t).clone(!0)[0]:t.cloneNode(!0)}function Pt(t,e,o){var n={};return Array.from(t.children).forEach(function(i){var r,a,s,c;if(!(!G(i,e.draggable,t,!1)||i.animated||i===o)){var d=k(i);n.left=Math.min((r=n.left)!==null&&r!==void 0?r:1/0,d.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,d.top),n.right=Math.max((s=n.right)!==null&&s!==void 0?s:-1/0,d.right),n.bottom=Math.max((c=n.bottom)!==null&&c!==void 0?c:-1/0,d.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var R="Sortable"+new Date().getTime();function eo(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(w(i,"display")==="none"||i===_.ghost)){t.push({target:i,rect:k(i)});var r=q({},t[t.length-1].rect);if(i.thisAnimationDuration){var a=pe(i,!0);a&&(r.top-=a.f,r.left-=a.e)}i.fromRect=r}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Jn(t,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var r=!1,a=0;t.forEach(function(s){var c=0,d=s.target,h=d.fromRect,f=k(d),b=d.prevFromRect,g=d.prevToRect,p=s.rect,m=pe(d,!0);m&&(f.top-=m.f,f.left-=m.e),d.toRect=f,d.thisAnimationDuration&&nt(b,f)&&!nt(h,f)&&(p.top-f.top)/(p.left-f.left)===(h.top-f.top)/(h.left-f.left)&&(c=no(p,b,g,i.options)),nt(f,h)||(d.prevFromRect=h,d.prevToRect=f,c||(c=i.options.animation),i.animate(d,p,f,c)),c&&(r=!0,a=Math.max(a,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(e),r?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,i,r,a){if(a){w(n,"transition",""),w(n,"transform","");var s=pe(this.el),c=s&&s.a,d=s&&s.d,h=(i.left-r.left)/(c||1),f=(i.top-r.top)/(d||1);n.animatingX=!!h,n.animatingY=!!f,w(n,"transform","translate3d("+h+"px,"+f+"px,0)"),this.forRepaintDummy=to(n),w(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),w(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){w(n,"transition",""),w(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function to(t){return t.offsetWidth}function no(t,e,o,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))*n.animation}var me=[],ot={initializeByDefault:!0},Ce={mount:function(e){for(var o in ot)ot.hasOwnProperty(o)&&!(o in e)&&(e[o]=ot[o]);me.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),me.push(e)},pluginEvent:function(e,o,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";me.forEach(function(a){o[a.pluginName]&&(o[a.pluginName][r]&&o[a.pluginName][r](q({sortable:o},n)),o.options[a.pluginName]&&o[a.pluginName][e]&&o[a.pluginName][e](q({sortable:o},n)))})},initializePlugins:function(e,o,n,i){me.forEach(function(s){var c=s.pluginName;if(!(!e.options[c]&&!s.initializeByDefault)){var d=new s(e,o,e.options);d.sortable=e,d.options=e.options,e[c]=d,ee(n,d.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var a=this.modifyOption(e,r,e.options[r]);typeof a<"u"&&(e.options[r]=a)}},getEventProperties:function(e,o){var n={};return me.forEach(function(i){typeof i.eventProperties=="function"&&ee(n,i.eventProperties.call(o[i.pluginName],e))}),n},modifyOption:function(e,o,n){var i;return me.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(i=r.optionListeners[o].call(e[r.pluginName],n))}),i}};function oo(t){var e=t.sortable,o=t.rootEl,n=t.name,i=t.targetEl,r=t.cloneEl,a=t.toEl,s=t.fromEl,c=t.oldIndex,d=t.newIndex,h=t.oldDraggableIndex,f=t.newDraggableIndex,b=t.originalEvent,g=t.putSortable,p=t.extraEventProperties;if(e=e||o&&o[R],!!e){var m,v=e.options,S="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!ne&&!Ee?m=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(n,!0,!0)),m.to=a||o,m.from=s||o,m.item=i||o,m.clone=r,m.oldIndex=c,m.newIndex=d,m.oldDraggableIndex=h,m.newDraggableIndex=f,m.originalEvent=b,m.pullMode=g?g.lastPutMode:void 0;var x=q(q({},p),Ce.getEventProperties(n,e));for(var I in x)m[I]=x[I];o&&o.dispatchEvent(m),v[S]&&v[S].call(e,m)}}var io=["evt"],$=function(e,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,r=Zn(n,io);Ce.pluginEvent.bind(_)(e,o,q({dragEl:u,parentEl:A,ghostEl:y,rootEl:T,nextEl:le,lastDownEl:Be,cloneEl:N,cloneHidden:re,dragStarted:Te,putSortable:F,activeSortable:_.active,originalEvent:i,oldIndex:ve,oldDraggableIndex:xe,newIndex:Y,newDraggableIndex:ae,hideGhostForTarget:Rt,unhideGhostForTarget:$t,cloneNowHidden:function(){re=!0},cloneNowShown:function(){re=!1},dispatchSortableEvent:function(s){W({sortable:o,name:s,originalEvent:i})}},r))};function W(t){oo(q({putSortable:F,cloneEl:N,targetEl:u,rootEl:T,oldIndex:ve,oldDraggableIndex:xe,newIndex:Y,newDraggableIndex:ae},t))}var u,A,y,T,le,Be,N,re,ve,Y,xe,ae,Le,F,we=!1,We=!1,Re=[],se,j,it,rt,Vt,Mt,Te,_e,Ne,Oe=!1,$e=!1,ze,B,at=[],lt=!1,He=[],Ye=typeof document<"u",Xe=et,Ft=Ee||ne?"cssFloat":"float",ro=Ye&&!St&&!et&&"draggable"in document.createElement("div"),Bt=(function(){if(Ye){if(ne)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Lt=function(e,o){var n=w(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=ge(e,0,o),a=ge(e,1,o),s=r&&w(r),c=a&&w(a),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+k(r).width,h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+k(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var f=s.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===f)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=i&&n[Ft]==="none"||a&&n[Ft]==="none"&&d+h>i)?"vertical":"horizontal"},ao=function(e,o,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,a=n?e.width:e.height,s=n?o.left:o.top,c=n?o.right:o.bottom,d=n?o.width:o.height;return i===s||r===c||i+a/2===s+d/2},lo=function(e,o){var n;return Re.some(function(i){var r=i[R].options.emptyInsertThreshold;if(!(!r||tt(i))){var a=k(i),s=e>=a.left-r&&e<=a.right+r,c=o>=a.top-r&&o<=a.bottom+r;if(s&&c)return n=i}}),n},Wt=function(e){function o(r,a){return function(s,c,d,h){var f=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(r==null&&(a||f))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return o(r(s,c,d,h),a)(s,c,d,h);var b=(a?s:c).options.group.name;return r===!0||typeof r=="string"&&r===b||r.join&&r.indexOf(b)>-1}}var n={},i=e.group;(!i||Me(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=o(i.pull,!0),n.checkPut=o(i.put),n.revertClone=i.revertClone,e.group=n},Rt=function(){!Bt&&y&&w(y,"display","none")},$t=function(){!Bt&&y&&w(y,"display","")};Ye&&!St&&document.addEventListener("click",function(t){if(We)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),We=!1,!1},!0);var ce=function(e){if(u){e=e.touches?e.touches[0]:e;var o=lo(e.clientX,e.clientY);if(o){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[R]._onDragOver(n)}}},so=function(e){u&&u.parentNode[R]._isOutsideThisEl(e.target)};function _(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ee({},e),t[R]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Lt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_.supportPointer!==!1&&"PointerEvent"in window&&(!Se||et),emptyInsertThreshold:5};Ce.initializePlugins(this,t,o);for(var n in o)!(n in e)&&(e[n]=o[n]);Wt(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:ro,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?C(t,"pointerdown",this._onTapStart):(C(t,"mousedown",this._onTapStart),C(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(C(t,"dragover",this),C(t,"dragenter",this)),Re.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ee(this,eo())}_.prototype={constructor:_,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(_e=null)},_getDirection:function(e,o){return typeof this.options.direction=="function"?this.options.direction.call(this,e,o,u):this.options.direction},_onTapStart:function(e){if(e.cancelable){var o=this,n=this.el,i=this.options,r=i.preventOnFilter,a=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(s||e).target,d=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,h=i.filter;if(vo(n),!u&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||i.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&Se&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=G(c,i.draggable,n,!1),!(c&&c.animated)&&Be!==c)){if(ve=X(c),xe=X(c,i.draggable),typeof h=="function"){if(h.call(this,e,c,this)){W({sortable:o,rootEl:d,name:"filter",targetEl:c,toEl:n,fromEl:n}),$("filter",o,{evt:e}),r&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(f){if(f=G(d,f.trim(),n,!1),f)return W({sortable:o,rootEl:f,name:"filter",targetEl:c,fromEl:n,toEl:n}),$("filter",o,{evt:e}),!0}),h)){r&&e.preventDefault();return}i.handle&&!G(d,i.handle,n,!1)||this._prepareDragStart(e,s,c)}}},_prepareDragStart:function(e,o,n){var i=this,r=i.el,a=i.options,s=r.ownerDocument,c;if(n&&!u&&n.parentNode===r){var d=k(n);if(T=r,u=n,A=u.parentNode,le=u.nextSibling,Be=n,Le=a.group,_.dragged=u,se={target:u,clientX:(o||e).clientX,clientY:(o||e).clientY},Vt=se.clientX-d.left,Mt=se.clientY-d.top,this._lastX=(o||e).clientX,this._lastY=(o||e).clientY,u.style["will-change"]="all",c=function(){if($("delayEnded",i,{evt:e}),_.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Et&&i.nativeDraggable&&(u.draggable=!0),i._triggerDragStart(e,o),W({sortable:i,name:"choose",originalEvent:e}),H(u,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){Tt(u,h.trim(),st)}),C(s,"dragover",ce),C(s,"mousemove",ce),C(s,"touchmove",ce),a.supportPointer?(C(s,"pointerup",i._onDrop),!this.nativeDraggable&&C(s,"pointercancel",i._onDrop)):(C(s,"mouseup",i._onDrop),C(s,"touchend",i._onDrop),C(s,"touchcancel",i._onDrop)),Et&&this.nativeDraggable&&(this.options.touchStartThreshold=4,u.draggable=!0),$("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(Ee||ne))){if(_.eventCanceled){this._onDrop();return}a.supportPointer?(C(s,"pointerup",i._disableDelayedDrag),C(s,"pointercancel",i._disableDelayedDrag)):(C(s,"mouseup",i._disableDelayedDrag),C(s,"touchend",i._disableDelayedDrag),C(s,"touchcancel",i._disableDelayedDrag)),C(s,"mousemove",i._delayedDragTouchMoveHandler),C(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&C(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var o=e.touches?e.touches[0]:e;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){u&&st(u),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._disableDelayedDrag),D(e,"touchend",this._disableDelayedDrag),D(e,"touchcancel",this._disableDelayedDrag),D(e,"pointerup",this._disableDelayedDrag),D(e,"pointercancel",this._disableDelayedDrag),D(e,"mousemove",this._delayedDragTouchMoveHandler),D(e,"touchmove",this._delayedDragTouchMoveHandler),D(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,o){o=o||e.pointerType=="touch"&&e,!this.nativeDraggable||o?this.options.supportPointer?C(document,"pointermove",this._onTouchMove):o?C(document,"touchmove",this._onTouchMove):C(document,"mousemove",this._onTouchMove):(C(u,"dragend",this),C(T,"dragstart",this._onDragStart));try{document.selection?je(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,o){if(we=!1,T&&u){$("dragStarted",this,{evt:o}),this.nativeDraggable&&C(document,"dragover",so);var n=this.options;!e&&H(u,n.dragClass,!1),H(u,n.ghostClass,!0),_.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(j){this._lastX=j.clientX,this._lastY=j.clientY,Rt();for(var e=document.elementFromPoint(j.clientX,j.clientY),o=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(j.clientX,j.clientY),e!==o);)o=e;if(u.parentNode[R]._isOutsideThisEl(e),o)do{if(o[R]){var n=void 0;if(n=o[R]._onDragOver({clientX:j.clientX,clientY:j.clientY,target:e,rootEl:o}),n&&!this.options.dragoverBubble)break}e=o}while(o=Ct(o));$t()}},_onTouchMove:function(e){if(se){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,r=e.touches?e.touches[0]:e,a=y&&pe(y,!0),s=y&&a&&a.a,c=y&&a&&a.d,d=Xe&&B&&Ot(B),h=(r.clientX-se.clientX+i.x)/(s||1)+(d?d[0]-at[0]:0)/(s||1),f=(r.clientY-se.clientY+i.y)/(c||1)+(d?d[1]-at[1]:0)/(c||1);if(!_.active&&!we){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(y){a?(a.e+=h-(it||0),a.f+=f-(rt||0)):a={a:1,b:0,c:0,d:1,e:h,f};var b="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");w(y,"webkitTransform",b),w(y,"mozTransform",b),w(y,"msTransform",b),w(y,"transform",b),it=h,rt=f,j=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!y){var e=this.options.fallbackOnBody?document.body:T,o=k(u,!0,Xe,!0,e),n=this.options;if(Xe){for(B=e;w(B,"position")==="static"&&w(B,"transform")==="none"&&B!==document;)B=B.parentNode;B!==document.body&&B!==document.documentElement?(B===document&&(B=J()),o.top+=B.scrollTop,o.left+=B.scrollLeft):B=J(),at=Ot(B)}y=u.cloneNode(!0),H(y,n.ghostClass,!1),H(y,n.fallbackClass,!0),H(y,n.dragClass,!0),w(y,"transition",""),w(y,"transform",""),w(y,"box-sizing","border-box"),w(y,"margin",0),w(y,"top",o.top),w(y,"left",o.left),w(y,"width",o.width),w(y,"height",o.height),w(y,"opacity","0.8"),w(y,"position",Xe?"absolute":"fixed"),w(y,"zIndex","100000"),w(y,"pointerEvents","none"),_.ghost=y,e.appendChild(y),w(y,"transform-origin",Vt/parseInt(y.style.width)*100+"% "+Mt/parseInt(y.style.height)*100+"%")}},_onDragStart:function(e,o){var n=this,i=e.dataTransfer,r=n.options;if($("dragStart",this,{evt:e}),_.eventCanceled){this._onDrop();return}$("setupClone",this),_.eventCanceled||(N=kt(u),N.removeAttribute("id"),N.draggable=!1,N.style["will-change"]="",this._hideClone(),H(N,this.options.chosenClass,!1),_.clone=N),n.cloneId=je(function(){$("clone",n),!_.eventCanceled&&(n.options.removeCloneOnHide||T.insertBefore(N,u),n._hideClone(),W({sortable:n,name:"clone"}))}),!o&&H(u,r.dragClass,!0),o?(We=!0,n._loopId=setInterval(n._emulateDragOver,50)):(D(document,"mouseup",n._onDrop),D(document,"touchend",n._onDrop),D(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,u)),C(document,"drop",n),w(u,"transform","translateZ(0)")),we=!0,n._dragStartId=je(n._dragStarted.bind(n,o,e)),C(document,"selectstart",n),Te=!0,window.getSelection().removeAllRanges(),Se&&w(document.body,"user-select","none")},_onDragOver:function(e){var o=this.el,n=e.target,i,r,a,s=this.options,c=s.group,d=_.active,h=Le===c,f=s.sort,b=F||d,g,p=this,m=!1;if(lt)return;function v(ke,Ro){$(ke,p,q({evt:e,isOwner:h,axis:g?"vertical":"horizontal",revert:a,dragRect:i,targetRect:r,canSort:f,fromSortable:b,target:n,completed:x,onMove:function(Ut,$o){return Ge(T,o,u,i,Ut,k(Ut),e,$o)},changed:I},Ro))}function S(){v("dragOverAnimationCapture"),p.captureAnimationState(),p!==b&&b.captureAnimationState()}function x(ke){return v("dragOverCompleted",{insertion:ke}),ke&&(h?d._hideClone():d._showClone(p),p!==b&&(H(u,F?F.options.ghostClass:d.options.ghostClass,!1),H(u,s.ghostClass,!0)),F!==p&&p!==_.active?F=p:p===_.active&&F&&(F=null),b===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){v("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==b&&(b.animateAll(),b._ignoreWhileAnimating=null)),(n===u&&!u.animated||n===o&&!n.animated)&&(_e=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(u.parentNode[R]._isOutsideThisEl(e.target),!ke&&ce(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function I(){Y=X(u),ae=X(u,s.draggable),W({sortable:p,name:"change",toEl:o,newIndex:Y,newDraggableIndex:ae,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=G(n,s.draggable,o,!0),v("dragOver"),_.eventCanceled)return m;if(u.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return x(!1);if(We=!1,d&&!s.disabled&&(h?f||(a=A!==T):F===this||(this.lastPutMode=Le.checkPull(this,d,u,e))&&c.checkPut(this,d,u,e))){if(g=this._getDirection(e,n)==="vertical",i=k(u),v("dragOverValid"),_.eventCanceled)return m;if(a)return A=T,S(),this._hideClone(),v("revert"),_.eventCanceled||(le?T.insertBefore(u,le):T.appendChild(u)),x(!0);var M=tt(o,s.draggable);if(!M||ho(e,g,this)&&!M.animated){if(M===u)return x(!1);if(M&&o===e.target&&(n=M),n&&(r=k(n)),Ge(T,o,u,i,n,r,e,!!n)!==!1)return S(),M&&M.nextSibling?o.insertBefore(u,M.nextSibling):o.appendChild(u),A=o,I(),x(!0)}else if(M&&fo(e,g,this)){var K=ge(o,0,s,!0);if(K===u)return x(!1);if(n=K,r=k(n),Ge(T,o,u,i,n,r,e,!1)!==!1)return S(),o.insertBefore(u,K),A=o,I(),x(!0)}else if(n.parentNode===o){r=k(n);var z=0,oe,de=u.parentNode!==o,L=!ao(u.animated&&u.toRect||i,n.animated&&n.toRect||r,g),ue=g?"top":"left",Q=Nt(n,"top","top")||Nt(u,"top","top"),U=Q?Q.scrollTop:void 0;_e!==n&&(oe=r[ue],Oe=!1,$e=!L&&s.invertSwap||de),z=po(e,n,r,g,L?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,$e,_e===n);var Z;if(z!==0){var E=X(u);do E-=z,Z=A.children[E];while(Z&&(w(Z,"display")==="none"||Z===y))}if(z===0||Z===n)return x(!1);_e=n,Ne=z;var O=n.nextElementSibling,V=!1;V=z===1;var qe=Ge(T,o,u,i,n,r,e,V);if(qe!==!1)return(qe===1||qe===-1)&&(V=qe===1),lt=!0,setTimeout(uo,30),S(),V&&!O?o.appendChild(u):n.parentNode.insertBefore(u,V?O:n),Q&&It(Q,0,U-Q.scrollTop),A=u.parentNode,oe!==void 0&&!$e&&(ze=Math.abs(oe-k(n)[ue])),I(),x(!0)}if(o.contains(u))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){D(document,"mousemove",this._onTouchMove),D(document,"touchmove",this._onTouchMove),D(document,"pointermove",this._onTouchMove),D(document,"dragover",ce),D(document,"mousemove",ce),D(document,"touchmove",ce)},_offUpEvents:function(){var e=this.el.ownerDocument;D(e,"mouseup",this._onDrop),D(e,"touchend",this._onDrop),D(e,"pointerup",this._onDrop),D(e,"pointercancel",this._onDrop),D(e,"touchcancel",this._onDrop),D(document,"selectstart",this)},_onDrop:function(e){var o=this.el,n=this.options;if(Y=X(u),ae=X(u,n.draggable),$("drop",this,{evt:e}),A=u&&u.parentNode,Y=X(u),ae=X(u,n.draggable),_.eventCanceled){this._nulling();return}we=!1,$e=!1,Oe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ct(this.cloneId),ct(this._dragStartId),this.nativeDraggable&&(D(document,"drop",this),D(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Se&&w(document.body,"user-select",""),w(u,"transform",""),e&&(Te&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),y&&y.parentNode&&y.parentNode.removeChild(y),(T===A||F&&F.lastPutMode!=="clone")&&N&&N.parentNode&&N.parentNode.removeChild(N),u&&(this.nativeDraggable&&D(u,"dragend",this),st(u),u.style["will-change"]="",Te&&!we&&H(u,F?F.options.ghostClass:this.options.ghostClass,!1),H(u,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:A,newIndex:null,newDraggableIndex:null,originalEvent:e}),T!==A?(Y>=0&&(W({rootEl:A,name:"add",toEl:A,fromEl:T,originalEvent:e}),W({sortable:this,name:"remove",toEl:A,originalEvent:e}),W({rootEl:A,name:"sort",toEl:A,fromEl:T,originalEvent:e}),W({sortable:this,name:"sort",toEl:A,originalEvent:e})),F&&F.save()):Y!==ve&&Y>=0&&(W({sortable:this,name:"update",toEl:A,originalEvent:e}),W({sortable:this,name:"sort",toEl:A,originalEvent:e})),_.active&&((Y==null||Y===-1)&&(Y=ve,ae=xe),W({sortable:this,name:"end",toEl:A,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){$("nulling",this),T=u=A=y=le=N=Be=re=se=j=Te=Y=ae=ve=xe=_e=Ne=F=Le=_.dragged=_.ghost=_.clone=_.active=null,He.forEach(function(e){e.checked=!0}),He.length=it=rt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":u&&(this._onDragOver(e),co(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],o,n=this.el.children,i=0,r=n.length,a=this.options;i<r;i++)o=n[i],G(o,a.draggable,this.el,!1)&&e.push(o.getAttribute(a.dataIdAttr)||mo(o));return e},sort:function(e,o){var n={},i=this.el;this.toArray().forEach(function(r,a){var s=i.children[a];G(s,this.options.draggable,i,!1)&&(n[r]=s)},this),o&&this.captureAnimationState(),e.forEach(function(r){n[r]&&(i.removeChild(n[r]),i.appendChild(n[r]))}),o&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,o){return G(e,o||this.options.draggable,this.el,!1)},option:function(e,o){var n=this.options;if(o===void 0)return n[e];var i=Ce.modifyOption(this,e,o);typeof i<"u"?n[e]=i:n[e]=o,e==="group"&&Wt(n)},destroy:function(){$("destroy",this);var e=this.el;e[R]=null,D(e,"mousedown",this._onTapStart),D(e,"touchstart",this._onTapStart),D(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(D(e,"dragover",this),D(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Re.splice(Re.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!re){if($("hideClone",this),_.eventCanceled)return;w(N,"display","none"),this.options.removeCloneOnHide&&N.parentNode&&N.parentNode.removeChild(N),re=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(re){if($("showClone",this),_.eventCanceled)return;u.parentNode==T&&!this.options.group.revertClone?T.insertBefore(N,u):le?T.insertBefore(N,le):T.appendChild(N),this.options.group.revertClone&&this.animate(u,N),w(N,"display",""),re=!1}}};function co(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ge(t,e,o,n,i,r,a,s){var c,d=t[R],h=d.options.onMove,f;return window.CustomEvent&&!ne&&!Ee?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=t,c.dragged=o,c.draggedRect=n,c.related=i||e,c.relatedRect=r||k(e),c.willInsertAfter=s,c.originalEvent=a,t.dispatchEvent(c),h&&(f=h.call(d,c,a)),f}function st(t){t.draggable=!1}function uo(){lt=!1}function fo(t,e,o){var n=k(ge(o.el,0,o.options,!0)),i=Pt(o.el,o.options,y),r=10;return e?t.clientX<i.left-r||t.clientY<n.top&&t.clientX<n.right:t.clientY<i.top-r||t.clientY<n.bottom&&t.clientX<n.left}function ho(t,e,o){var n=k(tt(o.el,o.options.draggable)),i=Pt(o.el,o.options,y),r=10;return e?t.clientX>i.right+r||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>i.bottom+r||t.clientX>n.right&&t.clientY>n.top}function po(t,e,o,n,i,r,a,s){var c=n?t.clientY:t.clientX,d=n?o.height:o.width,h=n?o.top:o.left,f=n?o.bottom:o.right,b=!1;if(!a){if(s&&ze<d*i){if(!Oe&&(Ne===1?c>h+d*r/2:c<f-d*r/2)&&(Oe=!0),Oe)b=!0;else if(Ne===1?c<h+ze:c>f-ze)return-Ne}else if(c>h+d*(1-i)/2&&c<f-d*(1-i)/2)return go(e)}return b=b||a,b&&(c<h+d*r/2||c>f-d*r/2)?c>h+d/2?1:-1:0}function go(t){return X(u)<X(t)?1:-1}function mo(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,o=e.length,n=0;o--;)n+=e.charCodeAt(o);return n.toString(36)}function vo(t){He.length=0;for(var e=t.getElementsByTagName("input"),o=e.length;o--;){var n=e[o];n.checked&&He.push(n)}}function je(t){return setTimeout(t,0)}function ct(t){return clearTimeout(t)}Ye&&C(document,"touchmove",function(t){(_.active||we)&&t.cancelable&&t.preventDefault()}),_.utils={on:C,off:D,css:w,find:Tt,is:function(e,o){return!!G(e,o,e,!1)},extend:Kn,throttle:At,closest:G,toggleClass:H,clone:kt,index:X,nextTick:je,cancelNextTick:ct,detectDirection:Lt,getChild:ge,expando:R},_.get=function(t){return t[R]},_.mount=function(){for(var t=arguments.length,e=new Array(t),o=0;o<t;o++)e[o]=arguments[o];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(_.utils=q(q({},_.utils),n.utils)),Ce.mount(n)})},_.create=function(t,e){return new _(t,e)},_.version=qn;var P=[],Ae,dt,ut=!1,ft,ht,Ue,Ie;function wo(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?C(document,"dragover",this._handleAutoScroll):this.options.supportPointer?C(document,"pointermove",this._handleFallbackAutoScroll):n.touches?C(document,"touchmove",this._handleFallbackAutoScroll):C(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?D(document,"dragover",this._handleAutoScroll):(D(document,"pointermove",this._handleFallbackAutoScroll),D(document,"touchmove",this._handleFallbackAutoScroll),D(document,"mousemove",this._handleFallbackAutoScroll)),zt(),Ze(),Qn()},nulling:function(){Ue=dt=Ae=ut=Ie=ft=ht=null,P.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var i=this,r=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,s=document.elementFromPoint(r,a);if(Ue=o,n||this.options.forceAutoScrollFallback||Ee||ne||Se){pt(o,this.options,s,n);var c=ie(s,!0);ut&&(!Ie||r!==ft||a!==ht)&&(Ie&&zt(),Ie=setInterval(function(){var d=ie(document.elementFromPoint(r,a),!0);d!==c&&(c=d,Ze()),pt(o,i.options,d,n)},10),ft=r,ht=a)}else{if(!this.options.bubbleScroll||ie(s,!0)===J()){Ze();return}pt(o,this.options,ie(s,!1),!1)}}},ee(t,{pluginName:"scroll",initializeByDefault:!0})}function Ze(){P.forEach(function(t){clearInterval(t.pid)}),P=[]}function zt(){clearInterval(Ie)}var pt=At(function(t,e,o,n){if(e.scroll){var i=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,s=e.scrollSpeed,c=J(),d=!1,h;dt!==o&&(dt=o,Ze(),Ae=e.scroll,h=e.scrollFn,Ae===!0&&(Ae=ie(o,!0)));var f=0,b=Ae;do{var g=b,p=k(g),m=p.top,v=p.bottom,S=p.left,x=p.right,I=p.width,M=p.height,K=void 0,z=void 0,oe=g.scrollWidth,de=g.scrollHeight,L=w(g),ue=g.scrollLeft,Q=g.scrollTop;g===c?(K=I<oe&&(L.overflowX==="auto"||L.overflowX==="scroll"||L.overflowX==="visible"),z=M<de&&(L.overflowY==="auto"||L.overflowY==="scroll"||L.overflowY==="visible")):(K=I<oe&&(L.overflowX==="auto"||L.overflowX==="scroll"),z=M<de&&(L.overflowY==="auto"||L.overflowY==="scroll"));var U=K&&(Math.abs(x-i)<=a&&ue+I<oe)-(Math.abs(S-i)<=a&&!!ue),Z=z&&(Math.abs(v-r)<=a&&Q+M<de)-(Math.abs(m-r)<=a&&!!Q);if(!P[f])for(var E=0;E<=f;E++)P[E]||(P[E]={});(P[f].vx!=U||P[f].vy!=Z||P[f].el!==g)&&(P[f].el=g,P[f].vx=U,P[f].vy=Z,clearInterval(P[f].pid),(U!=0||Z!=0)&&(d=!0,P[f].pid=setInterval((function(){n&&this.layer===0&&_.active._onTouchMove(Ue);var O=P[this.layer].vy?P[this.layer].vy*s:0,V=P[this.layer].vx?P[this.layer].vx*s:0;typeof h=="function"&&h.call(_.dragged.parentNode[R],V,O,t,Ue,P[this.layer].el)!=="continue"||It(P[this.layer].el,V,O)}).bind({layer:f}),24))),f++}while(e.bubbleScroll&&b!==c&&(b=ie(b,!1)));ut=d}},30),Ht=function(e){var o=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,a=e.dispatchSortableEvent,s=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(o){var d=n||r;s();var h=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,f=document.elementFromPoint(h.clientX,h.clientY);c(),d&&!d.el.contains(f)&&(a("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function gt(){}gt.prototype={startIndex:null,dragStart:function(e){var o=e.oldDraggableIndex;this.startIndex=o},onSpill:function(e){var o=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=ge(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(o,i):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:Ht},ee(gt,{pluginName:"revertOnSpill"});function mt(){}mt.prototype={onSpill:function(e){var o=e.dragEl,n=e.putSortable,i=n||this.sortable;i.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),i.animateAll()},drop:Ht},ee(mt,{pluginName:"removeOnSpill"}),_.mount(new wo),_.mount(mt,gt);function _o(t,e,o={}){let n;const{document:i=Wn,...r}=o,a={onUpdate:h=>{Yt(e,h.oldIndex,h.newIndex,h)}},s=()=>{const h=typeof t=="string"?i?.querySelector(t):he(t);!h||n!==void 0||(n=new _(h,{...a,...r}))},c=()=>{n?.destroy(),n=void 0},d=(h,f)=>{if(f!==void 0)n?.option(h,f);else return n?.option(h)};return _t(s),Nn(c),{stop:c,start:s,option:d}}function yo(t,e,o){const n=t.children[o];t.insertBefore(e,n)}function bo(t){t.parentNode&&t.parentNode.removeChild(t)}function Yt(t,e,o,n=null){n!=null&&(bo(n.item),yo(n.from,n.item,e));const i=l.isRef(t),r=i?[...l.toValue(t)]:l.toValue(t);if(o>=0&&o<r.length){const a=r.splice(e,1)[0];l.nextTick(()=>{r.splice(o,0,a),i&&(t.value=r)})}}const Xt="8eddab1847a4856c90822a4cca6f54ec",Gt="https://api.openweathermap.org",Eo="/data/2.5/weather",So="/geo/1.0/direct",Do=async t=>{try{if(t.length<2)return;const e=await fetch(`${Gt}${So}?q=${t}&limit=10&appid=${Xt}`);if(!e.ok)throw new Je(e.status);return await e.json()}catch(e){if(e instanceof Je)console.error(e);else throw e}},Co={class:"settings"},xo={class:"settings__text"},To=["onClick"],No={action:""},Oo={key:0,class:"settings__sershed-cities"},Ao=["onClick"],Io=Ke(l.defineComponent({__name:"WidgetSettings",props:{weather:{type:Array}},emits:["updateLocations","closeSettings"],setup(t,{emit:e}){const o=e,n=t,i=l.ref(n.weather.reduce((g,p)=>g=[...g,{lon:p.coord.lon,lat:p.coord.lat,id:p.id,name:p.name,country:p.sys.country}],[])),r=l.ref(""),a=l.ref([]),s=l.useTemplateRef("searchForm"),c=l.useTemplateRef("listEl"),d=Kt(async g=>{try{a.value=await Do(g)}catch(p){p instanceof Error&&console.error(p)}},500),h=g=>{i.value.push({lon:g.lon,lat:g.lat,id:g.id,name:g.name,country:g.country}),a.value=[]},f=g=>{i.value=i.value.filter(p=>p.id!==g)},b=()=>{o("closeSettings")};return _o(c,n.weather,{onUpdate:g=>{typeof g.oldIndex=="number"&&typeof g.newIndex=="number"&&Yt(i,g.oldIndex,g.newIndex,g)}}),Rn(s,()=>{a.value=[]}),l.watch(i,()=>{o("updateLocations",i.value)},{deep:!0}),(g,p)=>(l.openBlock(),l.createElementBlock("div",Co,[l.createElementVNode("div",{class:"settings__header"},[p[3]||(p[3]=l.createElementVNode("p",null,"Settings",-1)),l.createElementVNode("button",{class:"settings__action-button",onClick:b,type:"button","aria-label":"Close settings"},[...p[2]||(p[2]=[l.createElementVNode("img",{width:"24",height:"24",src:Dn,alt:""},null,-1)])])]),l.createElementVNode("div",{class:"settings__list",ref_key:"listEl",ref:c},[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(i.value,m=>(l.openBlock(),l.createElementBlock("div",{class:"settings__item",key:m.id},[p[6]||(p[6]=l.createElementVNode("button",{class:"settings__action-button settings__action-button--grab",type:"button","aria-label":"Reorder cities"},[l.createElementVNode("img",{width:"24",height:"24",src:Cn,alt:""})],-1)),l.createElementVNode("p",xo,[l.createElementVNode("span",null,l.toDisplayString(m.name),1),p[4]||(p[4]=l.createTextVNode(", ",-1)),l.createElementVNode("span",null,l.toDisplayString(m.country),1)]),l.createElementVNode("button",{class:"settings__action-button",onClick:v=>f(m.id),type:"button","aria-label":"Delete city"},[...p[5]||(p[5]=[l.createElementVNode("img",{width:"24",height:"24",src:xn,alt:""},null,-1)])],8,To)]))),128))],512),l.createElementVNode("div",{class:"settings__add-city",ref_key:"searchForm",ref:s},[p[8]||(p[8]=l.createElementVNode("p",null,"Add location",-1)),l.createElementVNode("form",No,[l.withDirectives(l.createElementVNode("input",{"onUpdate:modelValue":p[0]||(p[0]=m=>r.value=m),onInput:p[1]||(p[1]=m=>l.unref(d)(r.value)),type:"text",name:"",placeholder:"New York"},null,544),[[l.vModelText,r.value]]),p[7]||(p[7]=l.createElementVNode("button",{class:"settings__action-button",type:"submit","aria-label":"Add city"},[l.createElementVNode("img",{width:"24",height:"24",src:Tn,alt:""})],-1))]),a.value.length?(l.openBlock(),l.createElementBlock("ul",Oo,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(a.value,m=>(l.openBlock(),l.createElementBlock("li",{key:m.id,onClick:v=>h(m)},l.toDisplayString(m.name)+", "+l.toDisplayString(m.country),9,Ao))),128))])):l.createCommentVNode("",!0)],512)]))}}),[["styles",[".settings *{padding:0;margin:0}.settings__header{display:grid;grid-template:auto/1fr auto;margin-bottom:24px}.settings__header p{font-weight:600}.settings__action-button{background:transparent;line-height:0;cursor:pointer}.settings__action-button--grab{cursor:grab}.settings__list{margin-bottom:48px}.settings__item{display:grid;grid-template:auto/min-content 1fr min-content;align-items:center;column-gap:8px;padding:8px;background-color:#e6e6e6}.settings__item:not(:last-child){margin-bottom:24px}.settings__add-city>p{font-weight:600;margin-bottom:16px}.settings__add-city form{display:flex;flex-wrap:wrap}.settings__add-city form input{padding:8px;flex:1;min-width:100px}.settings__add-city form button{padding:8px}.settings__sershed-cities{list-style-type:none}.settings__sershed-cities>li{cursor:pointer}"]]]),ko=()=>{const t=Gn("weather-locations",[]),e=()=>{!t.value.length&&window.navigator.geolocation&&window.navigator.geolocation.getCurrentPosition(n=>{n.coords.latitude&&n.coords.longitude&&t.value.push({lon:n.coords.longitude,lat:n.coords.latitude})},n=>{console.warn(`Ошибка: ${n.message}`)},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})},o=n=>{t.value=n};return l.onBeforeMount(()=>{e()}),{store:t,updateLocations:o}},Po=t=>{const e=l.ref([]),o=l.ref(!1),n=l.computed(()=>l.toValue(t).map(r=>{const a=new URL(Eo,Gt);return a.searchParams.set("lat",String(r.lat)),a.searchParams.set("lon",String(r.lon)),a.searchParams.set("units","metric"),a.searchParams.set("appid",Xt),fetch(a).then(async s=>{if(!s.ok)throw new Je(s.status);return s.json()}).catch(s=>(console.error(s),null))}));return l.watch(n,async i=>{o.value=!0,e.value=[];try{(await Promise.allSettled(i)).forEach(a=>{a.status==="fulfilled"&&a.value&&e.value.push(a.value)})}catch(r){console.error(r)}finally{o.value=!1}},{immediate:!0,deep:!0}),{weather:e,isLoading:o}},Vo={class:"widget"},Mo={class:"widget__container"},Fo={key:1,class:"widget__inner"},Bo={key:0,class:"widget__locations"},Lo={key:1},Wo=Ke(l.defineComponent({__name:"WeatherWidget",setup(t){const e=l.ref(!1),{store:o,updateLocations:n}=ko(),{weather:i}=Po(o),r=()=>{e.value=!0},a=()=>{e.value=!1},s=c=>{n(c)};return(c,d)=>(l.openBlock(),l.createElementBlock("div",Vo,[l.createElementVNode("div",Mo,[e.value?(l.openBlock(),l.createBlock(Io,{key:0,weather:l.unref(i),onCloseSettings:a,onUpdateLocations:s},null,8,["weather"])):(l.openBlock(),l.createElementBlock("div",Fo,[l.createElementVNode("button",{onClick:r,class:"widget__settings",type:"button","aria-label":"Перейти в настройки"},[...d[0]||(d[0]=[l.createElementVNode("img",{width:"24",height:"24",src:Zt,alt:""},null,-1)])]),l.unref(o).length?(l.openBlock(),l.createElementBlock("div",Bo,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(l.unref(i),h=>(l.openBlock(),l.createBlock(Sn,{"city-weather":h},null,8,["city-weather"]))),256))])):(l.openBlock(),l.createElementBlock("div",Lo,"Не удалось получить данные о метоположении. Укажите местоположение в настройках вручную"))]))])]))}}),[["styles",[".widget *{box-sizing:border-box}.widget{font-family:IBM Plex Sans;font-size:1rem}.widget button{border:none}.widget button>img{pointer-events:none}.widget__container{max-width:15%;margin-inline:auto;margin-block:20px}@media screen and (orientation:portrait){.widget__container{max-width:90%}}.widget__inner{position:relative}.widget__settings{position:absolute;top:0;right:0;background:transparent;cursor:pointer;line-height:0;padding:0}.widget__locations{display:grid;grid-auto-flow:row;row-gap:60px}"]]]),jt=l.defineCustomElement(Wo);return customElements.define("weather-widget",jt),jt})(Vue);
